*,*:before,*:after{box-sizing:border-box}*{margin:0;padding:0}html{-webkit-text-size-adjust:100%}body{line-height:1.5;-webkit-font-smoothing:antialiased;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif;color:var(--gray-900)}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}button{cursor:pointer;background:none;border:none}a{color:inherit;text-decoration:none}:root{--indigo-50: #eef2ff;--indigo-100: #e0e7ff;--indigo-200: #c7d2fe;--indigo-300: #a5b4fc;--indigo-400: #818cf8;--indigo-500: #6366f1;--indigo-600: #4f46e5;--indigo-700: #4338ca;--indigo-800: #3730a3;--indigo-900: #312e81;--purple-50: #faf5ff;--purple-100: #f3e8ff;--purple-200: #e9d5ff;--purple-600: #9333ea;--purple-700: #7e22ce;--purple-900: #581c87;--green-100: #dcfce7;--green-500: #22c55e;--green-600: #16a34a;--green-700: #15803d;--green-800: #166534;--red-50: #fef2f2;--red-100: #fee2e2;--red-200: #fecaca;--red-300: #fca5a5;--red-500: #ef4444;--red-600: #dc2626;--red-700: #b91c1c;--red-900: #7f1d1d;--yellow-50: #fefce8;--yellow-200: #fef08a;--yellow-800: #854d0e;--gray-50: #f9fafb;--gray-100: #f3f4f6;--gray-200: #e5e7eb;--gray-300: #d1d5db;--gray-400: #9ca3af;--gray-500: #6b7280;--gray-600: #4b5563;--gray-700: #374151;--gray-800: #1f2937;--gray-900: #111827;--sp-1: .25rem;--sp-2: .5rem;--sp-3: .75rem;--sp-4: 1rem;--sp-5: 1.25rem;--sp-6: 1.5rem;--sp-8: 2rem;--sp-10: 2.5rem;--sp-12: 3rem;--sp-16: 4rem;--radius-sm: .25rem;--radius-md: .375rem;--radius-lg: .5rem;--radius-xl: .75rem;--radius-2xl: 1rem;--radius-full: 9999px;--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / .05);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / .25);--text-xs: .75rem;--text-sm: .875rem;--text-base: 1rem;--text-lg: 1.125rem;--text-xl: 1.25rem;--text-2xl: 1.5rem;--text-3xl: 1.875rem}body{background:linear-gradient(135deg,var(--indigo-50),var(--purple-50));min-height:100vh}h1{font-size:var(--text-2xl);font-weight:700}h2,h3{font-size:var(--text-xl);font-weight:600}input,textarea{width:100%;padding:var(--sp-2) var(--sp-4);border:1px solid var(--gray-300);border-radius:var(--radius-lg);outline:none;transition:border-color .15s,box-shadow .15s;font-size:var(--text-base)}input:focus,textarea:focus{border-color:transparent;box-shadow:0 0 0 2px var(--indigo-500)}input:disabled,textarea:disabled{opacity:.5;cursor:not-allowed}textarea{resize:vertical}.hidden{display:none!important}.flex{display:flex}.flex-col{flex-direction:column}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-start{align-items:start}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:var(--sp-2)}.gap-3{gap:var(--sp-3)}.gap-4{gap:var(--sp-4)}.grid{display:grid}.relative{position:relative}.absolute{position:absolute}.fixed{position:fixed}.inset-0{inset:0}.min-w-0{min-width:0}.w-full{width:100%}.text-center{text-align:center}.text-right{text-align:right}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.line-clamp-1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}.overflow-y-auto{overflow-y:auto}.touch-manipulation{touch-action:manipulation}.z-10{z-index:10}.z-50{z-index:50}.container{max-width:80rem;margin:0 auto;padding:0 var(--sp-4)}.container-sm{max-width:56rem;margin:0 auto;padding:0 var(--sp-4)}.page-bg{min-height:100vh;background:linear-gradient(135deg,var(--indigo-50),var(--purple-50))}.header{background:#fff;box-shadow:var(--shadow-sm);border-bottom:1px solid var(--gray-200)}.header__inner{max-width:80rem;margin:0 auto;padding:var(--sp-4) var(--sp-4)}.btn{display:inline-flex;align-items:center;justify-content:center;padding:var(--sp-2) var(--sp-4);font-weight:500;border-radius:var(--radius-lg);transition:background-color .15s,color .15s,opacity .15s;min-height:44px;border:none;cursor:pointer;font-size:var(--text-sm);line-height:1.5}.btn:disabled{opacity:.5;cursor:not-allowed}.btn--primary{background:var(--indigo-600);color:#fff}.btn--primary:hover:not(:disabled){background:var(--indigo-700)}.btn--green{background:var(--green-600);color:#fff}.btn--green:hover:not(:disabled){background:var(--green-700)}.btn--purple{background:var(--purple-600);color:#fff}.btn--purple:hover:not(:disabled){background:var(--purple-700)}.btn--danger{background:var(--red-600);color:#fff}.btn--danger:hover:not(:disabled){background:var(--red-700)}.btn--ghost{color:var(--gray-700);background:transparent}.btn--ghost:hover:not(:disabled){background:var(--gray-100)}.btn--outline{border:1px solid var(--gray-300);color:var(--gray-700);background:transparent}.btn--outline:hover:not(:disabled){background:var(--gray-50)}.btn--disabled-gray:disabled{background:var(--gray-300)}.btn svg{width:1.25rem;height:1.25rem}.btn--icon{padding:var(--sp-2);min-height:auto}.btn--icon-lg{padding:var(--sp-3);min-height:auto}.card{background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-md);padding:var(--sp-6);position:relative;transition:box-shadow .15s}.card--hover:hover{box-shadow:var(--shadow-lg);cursor:pointer}.card--bordered{box-shadow:none;border:1px solid var(--gray-200)}.card--bordered:hover{border-color:var(--indigo-300);box-shadow:var(--shadow-md)}.dropdown{position:absolute;right:0;margin-top:var(--sp-2);width:12rem;background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border:1px solid var(--gray-200);padding:var(--sp-1) 0;z-index:10}.dropdown__item{display:flex;width:100%;align-items:center;padding:var(--sp-2) var(--sp-4);font-size:var(--text-sm);text-align:left;transition:background-color .15s;cursor:pointer;border:none;background:none}.dropdown__item:hover{background:var(--gray-100)}.dropdown__item--danger{color:var(--red-600)}.dropdown__item--danger:hover{background:var(--red-50)}.dropdown__item svg{width:1rem;height:1rem;margin-right:var(--sp-2)}.modal-backdrop{position:fixed;inset:0;background:#00000080;display:flex;align-items:flex-start;justify-content:center;padding:var(--sp-4);z-index:50;overflow-y:auto}.modal-backdrop--centered{align-items:center}.modal{background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);width:100%;max-width:28rem;max-height:85dvh;overflow-y:auto;margin:auto 0}.modal--wide{max-width:42rem}.modal__header{display:flex;align-items:center;justify-content:space-between;padding:var(--sp-6);border-bottom:1px solid var(--gray-200)}.modal__body{padding:var(--sp-6)}.modal__body--no-pt{padding-top:0}.modal__title{font-size:var(--text-2xl);font-weight:600;color:var(--gray-900)}.notification{position:fixed;top:var(--sp-4);left:var(--sp-4);right:var(--sp-4);z-index:50;animation:slide-in .3s ease-out}.notification__inner{background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border-left:4px solid;padding:var(--sp-4);display:flex;align-items:center}.notification__inner--success{border-color:var(--green-500)}.notification__inner--error{border-color:var(--red-500)}.notification__icon{width:1.25rem;height:1.25rem;margin-right:var(--sp-3);flex-shrink:0}.notification__icon--success{color:var(--green-500)}.notification__icon--error{color:var(--red-500)}.notification__message{color:var(--gray-900);font-weight:500}.confirm-icon{flex-shrink:0;width:2.5rem;height:2.5rem;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;margin-right:var(--sp-3)}.confirm-icon--danger{background:var(--red-100);color:var(--red-600)}.confirm-icon--info{background:var(--indigo-100);color:var(--indigo-600)}.confirm-icon svg{width:1.5rem;height:1.5rem}.empty-state{text-align:center;padding:var(--sp-16) 0}.empty-state__icon{display:inline-flex;align-items:center;justify-content:center;width:4rem;height:4rem;border-radius:var(--radius-full);margin-bottom:var(--sp-4)}.empty-state__icon--indigo{background:var(--indigo-100)}.empty-state__icon--gray{background:var(--gray-100)}.empty-state__icon svg{width:2rem;height:2rem}.empty-state__title{font-size:var(--text-xl);font-weight:600;color:var(--gray-900);margin-bottom:var(--sp-2)}.empty-state__desc{color:var(--gray-600);margin-bottom:var(--sp-6);max-width:24rem;margin-left:auto;margin-right:auto}.collections-grid{display:grid;grid-template-columns:1fr;gap:var(--sp-6)}.card-list{display:flex;flex-direction:column;gap:var(--sp-3)}.collection-card__desc{color:var(--gray-600);font-size:var(--text-sm);margin-bottom:var(--sp-4)}.collection-card__desc--empty{color:var(--gray-400);font-style:italic}.collection-card__footer{display:flex;align-items:center;justify-content:space-between;margin-top:var(--sp-4);padding-top:var(--sp-4);border-top:1px solid var(--gray-100)}.collection-card__count{display:flex;align-items:center;font-size:var(--text-sm);color:var(--gray-500)}.collection-card__count svg{width:1rem;height:1rem;margin-right:var(--sp-1)}.collection-card__date{font-size:var(--text-xs);color:var(--gray-400)}.menu-btn{color:var(--gray-400);padding:var(--sp-1);border-radius:var(--radius-sm);transition:color .15s,background .15s;cursor:pointer;border:none;background:none}.menu-btn:hover{color:var(--gray-600);background:var(--gray-100)}.menu-btn svg{width:1.25rem;height:1.25rem}.card-item__content{padding-right:var(--sp-8)}.card-item__thumb{flex-shrink:0;width:4rem;height:4rem;object-fit:cover;border-radius:var(--radius-md);margin-right:var(--sp-3)}.card-item__icon{flex-shrink:0;width:2rem;height:2rem;background:var(--indigo-100);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;margin-right:var(--sp-3)}.card-item__icon svg{width:1.25rem;height:1.25rem;color:var(--indigo-600)}.card-item__text{font-size:var(--text-sm);color:var(--gray-900);white-space:pre-wrap;overflow-wrap:break-word}.card-item__multiline{display:inline-flex;align-items:center;margin-top:var(--sp-1);font-size:var(--text-xs);color:var(--indigo-600)}.card-item__multiline svg{width:.75rem;height:.75rem;margin-right:var(--sp-1)}.badge{display:inline-flex;align-items:center;padding:var(--sp-1) var(--sp-2);font-size:var(--text-xs);border-radius:var(--radius-sm)}.badge--green{background:var(--green-100);color:var(--green-700)}.badge--purple{background:var(--purple-100);color:var(--purple-700)}.badge--version{background:var(--green-100);color:var(--green-800)}.badge svg{width:.75rem;height:.75rem;margin-right:var(--sp-1)}.meta-row{display:flex;align-items:center;justify-content:space-between;margin-top:var(--sp-3);padding-top:var(--sp-3);border-top:1px solid var(--gray-100)}.meta-row__info{display:flex;align-items:center;gap:var(--sp-3);font-size:var(--text-xs);color:var(--gray-500)}.meta-row__info svg{width:.75rem;height:.75rem;margin-right:var(--sp-1)}.stats-bar{display:flex;flex-wrap:wrap;align-items:center;gap:var(--sp-4);margin-top:var(--sp-4);padding-top:var(--sp-4);border-top:1px solid var(--gray-100);font-size:var(--text-sm);color:var(--gray-600)}.stats-bar__item{display:flex;align-items:center}.stats-bar__item svg{width:1rem;height:1rem;margin-right:var(--sp-2)}.upload-area{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--sp-6);border:2px dashed var(--gray-300);border-radius:var(--radius-lg);transition:border-color .15s,background-color .15s;cursor:pointer;background:none}.upload-area:hover:not(:disabled){border-color:var(--indigo-500);background:var(--indigo-50)}.upload-area--purple:hover:not(:disabled){border-color:var(--purple-600);background:var(--purple-50)}.upload-area:disabled{opacity:.5;cursor:not-allowed}.upload-area svg{width:3rem;height:3rem;color:var(--gray-400);margin-bottom:var(--sp-2)}.image-preview{position:relative;width:100%}.image-preview img{width:100%;height:12rem;object-fit:cover;border-radius:var(--radius-lg);border:1px solid var(--gray-300)}.image-preview__remove{position:absolute;top:var(--sp-2);right:var(--sp-2);padding:var(--sp-2);background:var(--red-600);color:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);transition:background-color .15s;cursor:pointer;border:none}.image-preview__remove:hover{background:var(--red-700)}.image-preview__remove svg{width:1.25rem;height:1.25rem}.image-preview__overlay{position:absolute;inset:0;background:#00000080;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center}.audio-preview{padding:var(--sp-4);background:var(--gray-50);border-radius:var(--radius-lg);border:1px solid var(--gray-300)}.audio-preview__header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--sp-3)}.audio-preview__label{display:flex;align-items:center;font-size:var(--text-sm);color:var(--gray-700)}.audio-preview__label svg{width:1.25rem;height:1.25rem;color:var(--purple-600);margin-right:var(--sp-2)}.audio-play-btn{flex-shrink:0;width:2.5rem;height:2.5rem;background:var(--purple-600);color:#fff;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;transition:background-color .15s;cursor:pointer;border:none}.audio-play-btn:hover{background:var(--purple-700)}.audio-play-btn:disabled{opacity:.5;cursor:not-allowed}.audio-play-btn svg{width:1.25rem;height:1.25rem}.recording-state{padding:var(--sp-6);background:var(--red-50);border:2px solid var(--red-300);border-radius:var(--radius-lg);display:flex;flex-direction:column;align-items:center}.recording-state__mic{width:4rem;height:4rem;background:var(--red-600);border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;margin-bottom:var(--sp-4);animation:pulse 1.5s ease-in-out infinite}.recording-state__mic svg{width:2rem;height:2rem;color:#fff}.recording-state__timer{font-size:var(--text-3xl);font-weight:700;color:var(--red-900);margin-bottom:var(--sp-2);font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}.warning-box{padding:var(--sp-4);background:var(--yellow-50);border:1px solid var(--yellow-200);border-radius:var(--radius-lg);color:var(--yellow-800);font-size:var(--text-sm)}.error-box{padding:var(--sp-3);background:var(--red-50);border:1px solid var(--red-200);border-radius:var(--radius-lg);color:var(--red-700);font-size:var(--text-sm);display:flex;align-items:flex-start}.error-box svg{width:1.25rem;height:1.25rem;margin-right:var(--sp-2);flex-shrink:0;margin-top:2px}.spinner{animation:spin 1s linear infinite}.form-field{margin-bottom:var(--sp-4)}.form-field--lg{margin-bottom:var(--sp-6)}.form-label{display:block;font-size:var(--text-sm);font-weight:500;color:var(--gray-700);margin-bottom:var(--sp-2)}.form-label__required{color:var(--red-500)}.form-label__optional{color:var(--gray-400);font-size:var(--text-xs)}.form-hint{font-size:var(--text-xs);color:var(--gray-500);margin-top:var(--sp-1)}.form-counter{font-size:var(--text-xs);color:var(--gray-400)}.form-error{font-size:var(--text-sm);color:var(--red-600);margin-top:var(--sp-1)}.input-error{border-color:var(--red-500)!important}.study-mode{position:fixed;inset:0;background:linear-gradient(135deg,var(--indigo-900),var(--purple-900));z-index:50;display:flex;flex-direction:column}.study-mode__header{background:#0000004d;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.1)}.study-mode__header-inner{max-width:80rem;margin:0 auto;padding:var(--sp-4);display:flex;align-items:center;justify-content:space-between}.study-mode__title{color:#fff;font-size:var(--text-lg);font-weight:600}.study-mode__subtitle{color:var(--indigo-200);font-size:var(--text-sm)}.study-mode__progress{color:#fff;text-align:right}.study-mode__progress-num{font-size:var(--text-2xl);font-weight:700}.study-mode__progress-label{font-size:var(--text-sm);color:var(--indigo-200)}.study-card{background:#fff;border-radius:var(--radius-2xl);box-shadow:var(--shadow-2xl);padding:var(--sp-6);min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:transform .15s;touch-action:manipulation}.study-card:active{transform:scale(.98)}.study-card__badge{position:absolute;top:-1rem;left:50%;transform:translate(-50%);background:var(--indigo-600);color:#fff;padding:var(--sp-2) var(--sp-4);border-radius:var(--radius-full);font-size:var(--text-sm);font-weight:500;box-shadow:var(--shadow-lg);white-space:nowrap}.study-card__label{color:var(--gray-500);font-size:var(--text-sm);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--sp-4)}.study-card__text{font-size:var(--text-xl);color:var(--gray-900);white-space:pre-wrap;line-height:1.6;text-align:center}.study-card__hint{margin-top:var(--sp-8);font-size:var(--text-sm)}.study-card__hint--indigo{color:var(--indigo-600)}.study-card__hint--green{color:var(--green-600)}.study-card__hint--audio{color:var(--gray-400);margin-top:var(--sp-6)}.study-card__hint--muted{color:var(--gray-500)}.study-card__image{max-width:100%;max-height:16rem;margin:0 auto var(--sp-6);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);object-fit:contain}.study-hints{padding:var(--sp-3) 0;text-align:center}.study-hints__keyboard{display:flex;flex-direction:column;align-items:center;color:#fff;font-size:var(--text-xs);opacity:.6}.study-hints__touch{display:none;color:var(--indigo-200);font-size:var(--text-xs);opacity:.7}.study-hints__last{margin-top:var(--sp-2);color:var(--indigo-300);font-size:var(--text-xs);opacity:.85}.settings-section{background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-md);padding:var(--sp-6);margin-bottom:var(--sp-6)}.settings-section__title{font-size:var(--text-xl);font-weight:600;color:var(--gray-900);margin-bottom:var(--sp-4)}.settings-section__desc{color:var(--gray-600);margin-bottom:var(--sp-4)}.radio-group{display:flex;flex-direction:column;gap:var(--sp-2)}.radio-label{display:flex;align-items:center;cursor:pointer}.radio-label input[type=radio]{width:1rem;height:1rem;accent-color:var(--indigo-600);margin:0;padding:0}.radio-label span{margin-left:var(--sp-2);font-size:var(--text-sm)}.warning-panel{margin-top:var(--sp-4);padding:var(--sp-4);background:var(--yellow-50);border:1px solid var(--yellow-200);border-radius:var(--radius-lg);font-size:var(--text-sm);color:var(--yellow-800)}.app-info{margin-top:var(--sp-8);text-align:center;font-size:var(--text-sm);color:var(--gray-500)}.loading-center{display:flex;align-items:center;justify-content:center;padding:var(--sp-16) 0}.group-hover .menu-btn{opacity:0;transition:opacity .15s}.group-hover:hover .menu-btn{opacity:1}@keyframes slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@media(min-width:640px){.header__inner{padding-left:var(--sp-6);padding-right:var(--sp-6)}.container,.container-sm{padding:0 var(--sp-6)}.notification{left:auto;right:var(--sp-4);max-width:28rem}.btn__label-desktop{display:inline}.study-card{padding:var(--sp-12);min-height:400px}.study-card__text{font-size:var(--text-3xl)}}@media(min-width:768px){.collections-grid{grid-template-columns:repeat(2,1fr)}}@media(min-width:1024px){.header__inner{padding-left:var(--sp-8);padding-right:var(--sp-8)}.container,.container-sm{padding:0 var(--sp-8)}.collections-grid{grid-template-columns:repeat(3,1fr)}}@media(hover:none){.study-hints__keyboard{display:none}.study-hints__touch{display:block}}.btn__label-desktop{display:none}@media(min-width:640px){.btn__label-desktop{display:inline}.btn svg.has-label{margin-right:var(--sp-2)}}.debug-panel{position:fixed;bottom:0;left:0;right:0;z-index:9999;max-height:50dvh;display:flex;flex-direction:column;background:var(--gray-950, #09090b);border-top:2px solid var(--indigo-500);font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:.75rem;color:#e4e4e7;box-shadow:0 -4px 24px #0006}.debug-panel__inner{display:flex;flex-direction:column;height:100%;max-height:50dvh}.debug-panel__toolbar{display:flex;align-items:center;justify-content:space-between;padding:var(--sp-2) var(--sp-4);border-bottom:1px solid #3f3f46;flex-shrink:0}.debug-panel__title{font-weight:600;font-size:var(--text-sm);color:var(--indigo-300, #a5b4fc);letter-spacing:.05em}.debug-panel__log{flex:1;overflow-y:auto;padding:var(--sp-3) var(--sp-4);margin:0;white-space:pre-wrap;word-break:break-all;line-height:1.6;color:#d4d4d8}.debug-panel__status{padding:0 var(--sp-4) var(--sp-2);font-size:var(--text-xs);color:var(--green-400, #4ade80);min-height:1.4em;flex-shrink:0}
